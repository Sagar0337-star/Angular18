<div class="mt-2 p-2 bg-secondary text-white rounded">
    <h1>Reactive Form</h1>
    <p>form control</p>
</div>

<form class="row g-3 mt-3" [formGroup]="studentForm">
    <div class="col-4">
            <mat-form-field class="form-field" appearance="outline">
                <mat-label>First Name</mat-label>
                <input matInput formControlName="firstName">
            </mat-form-field>
            <div class="text-danger">
                @if ((studentForm.controls['firstName'].touched || studentForm.controls['firstName'].dirty) && studentForm.controls['firstName'].errors?.['required']) {
                    <span>This is required</span>
                }
                @else if ((studentForm.controls['firstName'].touched || studentForm.controls['firstName'].dirty) && studentForm.controls['firstName'].errors?.['minlength']) {
                    <span>Min 4 char required</span>
                }
                @else if ((studentForm.controls['firstName'].touched || studentForm.controls['firstName'].dirty) && studentForm.controls['firstName'].errors?.['pattern']){
                    <span>Enter only characters</span>
                }
            </div>
    </div>
    <div class="col-4">
        <mat-form-field class="form-field" appearance="outline">
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="lastName">
        </mat-form-field>
        <div class="text-danger">
            @if ((studentForm.controls['lastName'].touched || studentForm.controls['lastName'].dirty) && studentForm.controls['lastName'].errors?.['required']) {
                <span>This is required</span>
            }
            @else if ((studentForm.controls['lastName'].touched || studentForm.controls['lastName'].dirty) && studentForm.controls['lastName'].errors?.['minlength']) {
                <span>Min 4 char required</span>
            }
            @else if ((studentForm.controls['lastName'].touched || studentForm.controls['lastName'].dirty) && studentForm.controls['lastName'].errors?.['pattern']) {
                <span>Enter only characters</span>
            }
        </div>
    </div>
    <div class="col-4">
        <mat-form-field class="form-field" appearance="outline">
            <mat-label>User Name</mat-label>
            <input matInput formControlName="userName">
        </mat-form-field>
        <div class="text-danger">
            @if((studentForm.controls['userName'].touched || studentForm.controls['userName'].dirty) && studentForm.controls['userName'].errors?.['required']){
                <span>This is required</span>
            }
            <!-- @else if ((studentForm.controls['userName'].touched || studentForm.controls['userName'].dirty) && studentForm.controls['userName'].errors?.['email']){
                <span>UserName doesn't match the pattern</span>
            } -->
            @else if ((studentForm.controls['userName'].touched || studentForm.controls['userName'].dirty) && studentForm.controls['userName'].errors?.['pattern']) {
                <span>UserName doesn't match the pattern</span>
            }
        </div>
    </div>
    <div class="col-4">
        <mat-label>Gender :</mat-label>
        <mat-radio-group formControlName="gender" aria-label="Select an option">
            <mat-radio-button value="Male">Male</mat-radio-button>
            <mat-radio-button value="Female">Female</mat-radio-button>
          </mat-radio-group>
          <div class="text-danger">
            @if((studentForm.controls['gender'].dirty || studentForm.controls['gender'].touched) && studentForm.controls['gender'].errors?.['required']){
                <span>This is required</span>
            }
          </div>
    </div>
    <div class="col-4">
        <mat-form-field class="form-field" appearance="outline">
            <mat-label>City</mat-label>
            <input matInput formControlName="city">
        </mat-form-field>
        <div class="text-danger">
            @if((studentForm.controls['city'].dirty || studentForm.controls['city'].touched) && studentForm.controls['city'].errors?.['required']){
                <span>This is required</span>
            }
            @else if ((studentForm.controls['city'].dirty || studentForm.controls['city'].touched) && studentForm.controls['city'].errors?.['pattern']) {}
          </div>
    </div>
    <div class="col-4">
        <mat-form-field class="form-field" appearance="outline">
            <mat-label>State</mat-label>
            <mat-select formControlName="state">
                <mat-option [disabled]="disableFirstOption">choose...</mat-option>
                <mat-option value="Gujarat">Gujarat</mat-option>
                <mat-option value="Maharashtra">Maharashtra</mat-option>
                <mat-option value="Delhi">Delhi</mat-option>
              </mat-select>
        </mat-form-field>
        <div class="text-danger">
            @if((studentForm.controls['state'].dirty || studentForm.controls['state'].touched) && studentForm.controls['state'].errors?.['required']){
                <span>This is required</span>
            }
          </div>
    </div>
    <div class="col-4">
        <mat-form-field class="form-field" appearance="outline">
            <mat-label>Zip</mat-label>
            <input matInput formControlName="zip" maxlength="6">
        </mat-form-field>
        <div class="text-danger">
            @if((studentForm.controls['zip'].dirty || studentForm.controls['zip'].touched) && studentForm.controls['zip'].errors?.['required']){
                <span>This is required</span>
            }
            @else if((studentForm.controls['zip'].dirty || studentForm.controls['zip'].touched) && (studentForm.controls['zip'].errors?.['minlength'] || studentForm.controls['zip'].errors?.['maxlength'])){
                <span>6 char required</span>
            }
            @else if ((studentForm.controls['zip'].dirty || studentForm.controls['zip'].touched) && studentForm.controls['zip'].errors?.['pattern']) {
                <span>Only digit allowed</span>
            }
          </div>
    </div>
    <div class="col-4">
        <section class="example-section">
            <mat-checkbox class="example-margin" formControlName="isAcceptTerms">Agree to terms and conditions</mat-checkbox>
        </section>
        <div class="text-danger">
            @if((studentForm.controls['isAcceptTerms'].dirty || studentForm.controls['isAcceptTerms'].touched) && studentForm.controls['isAcceptTerms'].errors?.['required']){
                <span>This is required</span>
            }
          </div>
    </div>
    <div class="col-4">
        <button mat-raised-button (click)="ResetForm()">Reset Form</button>
        <button mat-raised-button class="btnSubmitData" (click)="onSubmit()">Submit</button>
    </div>
</form>


<div class="row">
    <div class="col-4">
        {{formValue | json}}
    </div>
</div>
